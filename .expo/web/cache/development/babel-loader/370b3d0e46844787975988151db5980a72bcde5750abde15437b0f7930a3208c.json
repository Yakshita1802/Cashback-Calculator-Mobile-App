{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { getAuth } from 'firebase/auth';\nimport { getFirestore, doc, getDoc } from 'firebase/firestore';\nimport { useNavigation } from '@react-navigation/native';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function UserWallet() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    userWallet = _useState2[0],\n    setUserWallet = _useState2[1];\n  var user = getAuth().currentUser;\n  var navigation = useNavigation();\n  useEffect(function () {\n    if (user) {\n      var db = getFirestore();\n      var userRef = doc(db, 'users', user.uid);\n      getDoc(userRef).then(function (docSnapshot) {\n        var _docSnapshot$data;\n        var wallet = ((_docSnapshot$data = docSnapshot.data()) == null ? void 0 : _docSnapshot$data.wallet) || [];\n        setUserWallet(wallet);\n      }).catch(function (error) {\n        console.error('Error fetching user wallet:', error);\n      });\n    }\n  }, [user]);\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.title,\n      children: \"Your Wallet:\"\n    }), _jsx(FlatList, {\n      data: userWallet,\n      keyExtractor: function keyExtractor(item, index) {\n        return index.toString();\n      },\n      renderItem: function renderItem(_ref) {\n        var item = _ref.item;\n        return _jsx(TouchableOpacity, {\n          style: styles.card,\n          onPress: function onPress() {\n            navigation.navigate('CardDetails', {\n              cardData: item\n            });\n          },\n          children: _jsxs(Text, {\n            children: [\"Card: \", item['Card Name']]\n          })\n        });\n      }\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginVertical: 10,\n    textAlign: 'center'\n  },\n  card: {\n    borderWidth: 1,\n    borderColor: 'gray',\n    padding: 16,\n    marginVertical: 8,\n    borderRadius: 10\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","View","Text","FlatList","TouchableOpacity","StyleSheet","getAuth","getFirestore","doc","getDoc","useNavigation","jsx","_jsx","jsxs","_jsxs","UserWallet","_useState","_useState2","_slicedToArray","userWallet","setUserWallet","user","currentUser","navigation","db","userRef","uid","then","docSnapshot","_docSnapshot$data","wallet","data","catch","error","console","style","styles","container","children","title","keyExtractor","item","index","toString","renderItem","_ref","card","onPress","navigate","cardData","create","flex","padding","fontSize","fontWeight","marginVertical","textAlign","borderWidth","borderColor","borderRadius"],"sources":["/Users/yakshita/MobileApp/components/UserWallet.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { View, Text, FlatList, TouchableOpacity, StyleSheet } from 'react-native';\nimport { getAuth } from 'firebase/auth';\nimport { getFirestore, doc, getDoc } from 'firebase/firestore';\nimport { useNavigation } from '@react-navigation/native'; // Import navigation hook\n\nexport default function UserWallet() {\n  const [userWallet, setUserWallet] = useState([]);\n  const user = getAuth().currentUser;\n  const navigation = useNavigation(); // Initialize navigation hook\n\n  useEffect(() => {\n    if (user) {\n      const db = getFirestore();\n      const userRef = doc(db, 'users', user.uid);\n\n      getDoc(userRef)\n        .then((docSnapshot) => {\n          const wallet = docSnapshot.data()?.wallet || [];\n          setUserWallet(wallet);\n        })\n        .catch((error) => {\n          console.error('Error fetching user wallet:', error);\n        });\n    }\n  }, [user]);\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Your Wallet:</Text>\n      <FlatList\n        data={userWallet}\n        keyExtractor={(item, index) => index.toString()}\n        renderItem={({ item }) => (\n          <TouchableOpacity\n            style={styles.card}\n            onPress={() => {\n              // Navigate to CardDetails and pass the card data\n              navigation.navigate('CardDetails', { cardData: item });\n            }}\n          >\n            <Text>Card: {item['Card Name']}</Text>\n          </TouchableOpacity>\n        )}\n      />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16,\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginVertical: 10,\n    textAlign: 'center', // Center the text\n  },\n  card: {\n    borderWidth: 1,\n    borderColor: 'gray',\n    padding: 16,\n    marginVertical: 8,\n    borderRadius: 10,\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}