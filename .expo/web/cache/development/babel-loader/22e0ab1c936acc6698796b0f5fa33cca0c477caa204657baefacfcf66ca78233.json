{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { getAuth } from 'firebase/auth';\nimport { getFirestore, collection, query, where, getDocs, doc, getDoc } from 'firebase/firestore';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function UserWallet() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    userWallet = _useState2[0],\n    setUserWallet = _useState2[1];\n  var user = getAuth().currentUser;\n  useEffect(function () {\n    if (user) {\n      var db = getFirestore();\n      var userRef = doc(db, 'users', user.uid);\n      getDoc(userRef).then(function (docSnapshot) {\n        var _docSnapshot$data;\n        var wallet = ((_docSnapshot$data = docSnapshot.data()) == null ? void 0 : _docSnapshot$data.wallet) || [];\n        setUserWallet(wallet);\n      }).catch(function (error) {\n        console.error('Error fetching user wallet:', error);\n      });\n    }\n  }, [user]);\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.title,\n      children: \"Your Wallet:\"\n    }), _jsx(FlatList, {\n      data: userWallet,\n      keyExtractor: function keyExtractor(item, index) {\n        return index.toString();\n      },\n      renderItem: function renderItem(_ref) {\n        var item = _ref.item;\n        return _jsx(View, {\n          style: styles.card,\n          children: _jsxs(Text, {\n            children: [\"Card: \", item]\n          })\n        });\n      }\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16,\n    justifyContent: 'center'\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginVertical: 10,\n    textAlign: 'center'\n  },\n  card: {\n    borderWidth: 1,\n    borderColor: 'gray',\n    padding: 16,\n    marginVertical: 8,\n    borderRadius: 10\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","View","Text","FlatList","StyleSheet","getAuth","getFirestore","collection","query","where","getDocs","doc","getDoc","jsx","_jsx","jsxs","_jsxs","UserWallet","_useState","_useState2","_slicedToArray","userWallet","setUserWallet","user","currentUser","db","userRef","uid","then","docSnapshot","_docSnapshot$data","wallet","data","catch","error","console","style","styles","container","children","title","keyExtractor","item","index","toString","renderItem","_ref","card","create","flex","padding","justifyContent","fontSize","fontWeight","marginVertical","textAlign","borderWidth","borderColor","borderRadius"],"sources":["/Users/yakshita/MobileApp/components/UserWallet.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { View, Text, FlatList, StyleSheet } from 'react-native';\nimport { getAuth } from 'firebase/auth';\nimport { getFirestore, collection, query, where, getDocs, doc, getDoc } from 'firebase/firestore';\n\nexport default function UserWallet() {\n  const [userWallet, setUserWallet] = useState([]);\n  const user = getAuth().currentUser;\n\n  useEffect(() => {\n    if (user) {\n      const db = getFirestore();\n      const userRef = doc(db, 'users', user.uid);\n\n      // Fetch the user's wallet from Firestore\n      getDoc(userRef)\n        .then((docSnapshot) => {\n          const wallet = docSnapshot.data()?.wallet || [];\n          setUserWallet(wallet);\n        })\n        .catch((error) => {\n          console.error('Error fetching user wallet:', error);\n        });\n    }\n  }, [user]);\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Your Wallet:</Text>\n      <FlatList\n        data={userWallet}\n        keyExtractor={(item, index) => index.toString()}\n        renderItem={({ item }) => (\n          <View style={styles.card}>\n            <Text>Card: {item}</Text>\n          </View>\n        )}\n      />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16,\n    justifyContent: 'center', // Center content vertically\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginVertical: 10,\n    textAlign: 'center', // Center the text\n  },\n  card: {\n    borderWidth: 1,\n    borderColor: 'gray',\n    padding: 16,\n    marginVertical: 8,\n    borderRadius: 10,\n  },\n});\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,QAAA;AAAA,OAAAC,UAAA;AAEnD,SAASC,OAAO,QAAQ,eAAe;AACvC,SAASC,YAAY,EAAEC,UAAU,EAAEC,KAAK,EAAEC,KAAK,EAAEC,OAAO,EAAEC,GAAG,EAAEC,MAAM,QAAQ,oBAAoB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAElG,eAAe,SAASC,UAAUA,CAAA,EAAG;EACnC,IAAAC,SAAA,GAAoClB,QAAQ,CAAC,EAAE,CAAC;IAAAmB,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAzCG,UAAU,GAAAF,UAAA;IAAEG,aAAa,GAAAH,UAAA;EAChC,IAAMI,IAAI,GAAGlB,OAAO,CAAC,CAAC,CAACmB,WAAW;EAElCzB,SAAS,CAAC,YAAM;IACd,IAAIwB,IAAI,EAAE;MACR,IAAME,EAAE,GAAGnB,YAAY,CAAC,CAAC;MACzB,IAAMoB,OAAO,GAAGf,GAAG,CAACc,EAAE,EAAE,OAAO,EAAEF,IAAI,CAACI,GAAG,CAAC;MAG1Cf,MAAM,CAACc,OAAO,CAAC,CACZE,IAAI,CAAC,UAACC,WAAW,EAAK;QAAA,IAAAC,iBAAA;QACrB,IAAMC,MAAM,GAAG,EAAAD,iBAAA,GAAAD,WAAW,CAACG,IAAI,CAAC,CAAC,qBAAlBF,iBAAA,CAAoBC,MAAM,KAAI,EAAE;QAC/CT,aAAa,CAACS,MAAM,CAAC;MACvB,CAAC,CAAC,CACDE,KAAK,CAAC,UAACC,KAAK,EAAK;QAChBC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACrD,CAAC,CAAC;IACN;EACF,CAAC,EAAE,CAACX,IAAI,CAAC,CAAC;EAEV,OACEP,KAAA,CAACf,IAAI;IAACmC,KAAK,EAAEC,MAAM,CAACC,SAAU;IAAAC,QAAA,GAC5BzB,IAAA,CAACZ,IAAI;MAACkC,KAAK,EAAEC,MAAM,CAACG,KAAM;MAAAD,QAAA,EAAC;IAAY,CAAM,CAAC,EAC9CzB,IAAA,CAACX,QAAQ;MACP6B,IAAI,EAAEX,UAAW;MACjBoB,YAAY,EAAE,SAAAA,aAACC,IAAI,EAAEC,KAAK;QAAA,OAAKA,KAAK,CAACC,QAAQ,CAAC,CAAC;MAAA,CAAC;MAChDC,UAAU,EAAE,SAAAA,WAAAC,IAAA;QAAA,IAAGJ,IAAI,GAAAI,IAAA,CAAJJ,IAAI;QAAA,OACjB5B,IAAA,CAACb,IAAI;UAACmC,KAAK,EAAEC,MAAM,CAACU,IAAK;UAAAR,QAAA,EACvBvB,KAAA,CAACd,IAAI;YAAAqC,QAAA,GAAC,QAAM,EAACG,IAAI;UAAA,CAAO;QAAC,CACrB,CAAC;MAAA;IACP,CACH,CAAC;EAAA,CACE,CAAC;AAEX;AAEA,IAAML,MAAM,GAAGjC,UAAU,CAAC4C,MAAM,CAAC;EAC/BV,SAAS,EAAE;IACTW,IAAI,EAAE,CAAC;IACPC,OAAO,EAAE,EAAE;IACXC,cAAc,EAAE;EAClB,CAAC;EACDX,KAAK,EAAE;IACLY,QAAQ,EAAE,EAAE;IACZC,UAAU,EAAE,MAAM;IAClBC,cAAc,EAAE,EAAE;IAClBC,SAAS,EAAE;EACb,CAAC;EACDR,IAAI,EAAE;IACJS,WAAW,EAAE,CAAC;IACdC,WAAW,EAAE,MAAM;IACnBP,OAAO,EAAE,EAAE;IACXI,cAAc,EAAE,CAAC;IACjBI,YAAY,EAAE;EAChB;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}