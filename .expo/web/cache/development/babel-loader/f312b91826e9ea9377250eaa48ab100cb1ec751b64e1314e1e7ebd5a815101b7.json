{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { db } from \"../firebaseConfig\";\nimport { useNavigation } from '@react-navigation/native';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function CardIssuerSelector() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    issuers = _useState2[0],\n    setIssuers = _useState2[1];\n  var navigation = useNavigation();\n  useEffect(function () {\n    var fetchIssuers = function () {\n      var _ref = _asyncToGenerator(function* () {\n        try {\n          var issuersCollection = db.collection('issuers');\n          var issuersSnapshot = yield issuersCollection.get();\n          var newIssuers = [];\n          issuersSnapshot.forEach(function (doc) {\n            newIssuers.push(doc.data());\n          });\n          setIssuers(newIssuers);\n        } catch (error) {\n          console.error('Error fetching issuers:', error);\n        }\n      });\n      return function fetchIssuers() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    fetchIssuers();\n  }, []);\n  var handleIssuerSelection = function handleIssuerSelection(selectedIssuer) {\n    navigation.navigate('AddCard', {\n      selectedIssuer: selectedIssuer\n    });\n  };\n  return _jsx(View, {\n    style: styles.container,\n    children: _jsx(FlatList, {\n      data: issuers,\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      },\n      renderItem: function renderItem(_ref2) {\n        var item = _ref2.item;\n        return _jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            return handleIssuerSelection(item);\n          },\n          children: _jsx(Text, {\n            children: item.name\n          })\n        });\n      }\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16,\n    backgroundColor: 'lightgray'\n  },\n  title: {\n    fontSize: 24,\n    marginBottom: 20\n  },\n  issuerItem: {\n    borderWidth: 1,\n    borderColor: 'gray',\n    padding: 16,\n    marginVertical: 8,\n    borderRadius: 10\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","View","Text","FlatList","TouchableOpacity","StyleSheet","db","useNavigation","jsx","_jsx","CardIssuerSelector","_useState","_useState2","_slicedToArray","issuers","setIssuers","navigation","fetchIssuers","_ref","_asyncToGenerator","issuersCollection","collection","issuersSnapshot","get","newIssuers","forEach","doc","push","data","error","console","apply","arguments","handleIssuerSelection","selectedIssuer","navigate","style","styles","container","children","keyExtractor","item","id","renderItem","_ref2","onPress","name","create","flex","padding","backgroundColor","title","fontSize","marginBottom","issuerItem","borderWidth","borderColor","marginVertical","borderRadius"],"sources":["/Users/yakshita/MobileApp/components/CardIssuerSelector.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Text, FlatList, TouchableOpacity, StyleSheet } from 'react-native';\nimport { db } from '../firebaseConfig';\nimport { useNavigation } from '@react-navigation/native'; // Import navigation hook\n\nexport default function CardIssuerSelector() {\n  const [issuers, setIssuers] = useState([]);\n  const navigation = useNavigation(); // Get the navigation object\n\n  useEffect(() => {\n    const fetchIssuers = async () => {\n      try {\n        const issuersCollection = db.collection('issuers');\n        const issuersSnapshot = await issuersCollection.get();\n        const newIssuers = [];\n        issuersSnapshot.forEach((doc) => {\n          newIssuers.push(doc.data());\n        });\n        setIssuers(newIssuers);\n      } catch (error) {\n        console.error('Error fetching issuers:', error);\n      }\n    };\n\n    fetchIssuers();\n  }, []);\n\n  const handleIssuerSelection = (selectedIssuer) => {\n    // Navigate to the AddCard screen and pass the selected issuer as a parameter\n    navigation.navigate('AddCard', { selectedIssuer });\n  };\n\n  return (\n    <View style={styles.container}>\n      <FlatList\n        data={issuers}\n        keyExtractor={(item) => item.id}\n        renderItem={({ item }) => (\n          <TouchableOpacity onPress={() => handleIssuerSelection(item)}>\n            <Text>{item.name}</Text>\n          </TouchableOpacity>\n        )}\n      />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16,\n    backgroundColor: 'lightgray',\n  },\n  title: {\n    fontSize: 24,\n    marginBottom: 20,\n  },\n  issuerItem: {\n    borderWidth: 1,\n    borderColor: 'gray',\n    padding: 16,\n    marginVertical: 8,\n    borderRadius: 10,\n  },\n});\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,QAAA;AAAA,OAAAC,gBAAA;AAAA,OAAAC,UAAA;AAEnD,SAASC,EAAE;AACX,SAASC,aAAa,QAAQ,0BAA0B;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAEzD,eAAe,SAASC,kBAAkBA,CAAA,EAAG;EAC3C,IAAAC,SAAA,GAA8BZ,QAAQ,CAAC,EAAE,CAAC;IAAAa,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAnCG,OAAO,GAAAF,UAAA;IAAEG,UAAU,GAAAH,UAAA;EAC1B,IAAMI,UAAU,GAAGT,aAAa,CAAC,CAAC;EAElCP,SAAS,CAAC,YAAM;IACd,IAAMiB,YAAY;MAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,aAAY;QAC/B,IAAI;UACF,IAAMC,iBAAiB,GAAGd,EAAE,CAACe,UAAU,CAAC,SAAS,CAAC;UAClD,IAAMC,eAAe,SAASF,iBAAiB,CAACG,GAAG,CAAC,CAAC;UACrD,IAAMC,UAAU,GAAG,EAAE;UACrBF,eAAe,CAACG,OAAO,CAAC,UAACC,GAAG,EAAK;YAC/BF,UAAU,CAACG,IAAI,CAACD,GAAG,CAACE,IAAI,CAAC,CAAC,CAAC;UAC7B,CAAC,CAAC;UACFb,UAAU,CAACS,UAAU,CAAC;QACxB,CAAC,CAAC,OAAOK,KAAK,EAAE;UACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;QACjD;MACF,CAAC;MAAA,gBAZKZ,YAAYA,CAAA;QAAA,OAAAC,IAAA,CAAAa,KAAA,OAAAC,SAAA;MAAA;IAAA,GAYjB;IAEDf,YAAY,CAAC,CAAC;EAChB,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMgB,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAIC,cAAc,EAAK;IAEhDlB,UAAU,CAACmB,QAAQ,CAAC,SAAS,EAAE;MAAED,cAAc,EAAdA;IAAe,CAAC,CAAC;EACpD,CAAC;EAED,OACEzB,IAAA,CAACR,IAAI;IAACmC,KAAK,EAAEC,MAAM,CAACC,SAAU;IAAAC,QAAA,EAC5B9B,IAAA,CAACN,QAAQ;MACPyB,IAAI,EAAEd,OAAQ;MACd0B,YAAY,EAAE,SAAAA,aAACC,IAAI;QAAA,OAAKA,IAAI,CAACC,EAAE;MAAA,CAAC;MAChCC,UAAU,EAAE,SAAAA,WAAAC,KAAA;QAAA,IAAGH,IAAI,GAAAG,KAAA,CAAJH,IAAI;QAAA,OACjBhC,IAAA,CAACL,gBAAgB;UAACyC,OAAO,EAAE,SAAAA,QAAA;YAAA,OAAMZ,qBAAqB,CAACQ,IAAI,CAAC;UAAA,CAAC;UAAAF,QAAA,EAC3D9B,IAAA,CAACP,IAAI;YAAAqC,QAAA,EAAEE,IAAI,CAACK;UAAI,CAAO;QAAC,CACR,CAAC;MAAA;IACnB,CACH;EAAC,CACE,CAAC;AAEX;AAEA,IAAMT,MAAM,GAAGhC,UAAU,CAAC0C,MAAM,CAAC;EAC/BT,SAAS,EAAE;IACTU,IAAI,EAAE,CAAC;IACPC,OAAO,EAAE,EAAE;IACXC,eAAe,EAAE;EACnB,CAAC;EACDC,KAAK,EAAE;IACLC,QAAQ,EAAE,EAAE;IACZC,YAAY,EAAE;EAChB,CAAC;EACDC,UAAU,EAAE;IACVC,WAAW,EAAE,CAAC;IACdC,WAAW,EAAE,MAAM;IACnBP,OAAO,EAAE,EAAE;IACXQ,cAAc,EAAE,CAAC;IACjBC,YAAY,EAAE;EAChB;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}